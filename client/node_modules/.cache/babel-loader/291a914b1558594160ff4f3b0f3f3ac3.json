{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/bukrent/client/src/components/Header/index.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { GiHamburgerMenu } from 'react-icons/gi';\nimport { useNavigate, useLocation, Link } from 'react-router-dom';\nimport './styles.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { searchBarPages } from './constants';\nimport { setSearchedBooks, setSearchQuery } from '../../reducers/bookSlice';\nimport urls from '../../utils/urls';\nimport devUrls from '../../utils/devUrls';\nimport axios from 'axios';\nimport { setAlert } from '../../reducers/mainSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    main: {\n      isLoggedIn\n    },\n    book: {\n      searchQuery\n    }\n  } = useSelector(state => state);\n  const [showDropDown, setShowDropDown] = useState(false);\n  const location = useLocation();\n\n  const search = async () => {\n    navigate('/search-books');\n\n    if (searchQuery.trim().length < 3) {\n      dispatch(setSearchedBooks({\n        searchedBooks: []\n      }));\n      return dispatch(setAlert({\n        text: 'Enter atleast 3 characters',\n        color: '#F75549'\n      }));\n    }\n\n    const response = await axios.get(urls.search, {\n      params: {\n        query: searchQuery.trim()\n      }\n    });\n    dispatch(setSearchedBooks({\n      searchedBooks: response.data.books\n    }));\n  };\n\n  const logOut = async () => {\n    try {\n      await axios.post(devUrls.logout, {}, {\n        withCredentials: true\n      });\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-header\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"Book\",\n          src: \"/logo.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by author, title, age, genre...\",\n          value: searchQuery,\n          onChange: _ref => {\n            let {\n              target: {\n                value\n              }\n            } = _ref;\n            return dispatch(setSearchQuery({\n              searchQuery: value\n            }));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: search,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"Book\",\n            src: \"/icons/search.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `header-actions ${showDropDown ? 'show-drop-down' : 'hide-drop-down'}`,\n        children: [isLoggedIn ? /*#__PURE__*/_jsxDEV(Link, {\n          className: \"subscribe-button\",\n          to: \"/your-library\",\n          children: \"Your Library\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          className: \"subscribe-button\",\n          to: \"/\",\n          children: \"Log In / Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/browse-library\",\n          className: \"subscribe-button\",\n          children: \"Browse Library\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this), isLoggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logOut,\n          className: \"subscribe-button\",\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(GiHamburgerMenu, {\n        onClick: () => setShowDropDown(!showDropDown)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, this), searchBarPages.includes(location.pathname) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-bar mobile-search-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by author, title, age, genre...\",\n        value: searchQuery,\n        onChange: _ref2 => {\n          let {\n            target: {\n              value\n            }\n          } = _ref2;\n          return dispatch(setSearchQuery({\n            searchQuery: value\n          }));\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: search,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"Book\",\n          src: \"/icons/search.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Header, \"RVFzcSSuwt2Bc5mv7MbDHN9l0Ko=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useLocation];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["useState","GiHamburgerMenu","useNavigate","useLocation","Link","useDispatch","useSelector","searchBarPages","setSearchedBooks","setSearchQuery","urls","devUrls","axios","setAlert","Header","navigate","dispatch","main","isLoggedIn","book","searchQuery","state","showDropDown","setShowDropDown","location","search","trim","length","searchedBooks","text","color","response","get","params","query","data","books","logOut","post","logout","withCredentials","window","reload","err","console","log","target","value","includes","pathname"],"sources":["/home/ubuntu/bukrent/client/src/components/Header/index.js"],"sourcesContent":["import { useState } from 'react';\nimport { GiHamburgerMenu } from 'react-icons/gi';\nimport { useNavigate, useLocation, Link } from 'react-router-dom';\nimport './styles.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { searchBarPages } from './constants';\nimport { setSearchedBooks, setSearchQuery } from '../../reducers/bookSlice';\nimport urls from '../../utils/urls';\nimport devUrls from '../../utils/devUrls';\nimport axios from 'axios'\nimport {setAlert} from '../../reducers/mainSlice';\n\nconst Header = () => {\n\tconst navigate = useNavigate();\n\tconst dispatch = useDispatch();\n\tconst { main: { isLoggedIn }, book: { searchQuery } } = useSelector(state => state);\n\tconst [ showDropDown, setShowDropDown ] = useState(false);\n\tconst location = useLocation();\n\n\tconst search = async () => {\n\t\tnavigate('/search-books');\n\t\tif(searchQuery.trim().length < 3) {\n\t\t\tdispatch(setSearchedBooks({searchedBooks: []}));\n\t\t\treturn dispatch(setAlert({text: 'Enter atleast 3 characters', color: '#F75549'}));\n\t\t}\n\t\tconst response = await axios.get(urls.search, {params: {query: searchQuery.trim()}});\n\t\tdispatch(setSearchedBooks({searchedBooks: response.data.books}));\n\t};\n\n\tconst logOut = async () => {\n\t\ttry {\n\t\t\tawait axios.post(devUrls.logout, {}, {withCredentials: true});\n\t\t\twindow.location.reload();\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<header>\n\t\t\t<div className=\"top-header\">\n\t\t\t\t<Link to=\"/\"><img alt=\"Book\" src=\"/logo.png\" /></Link>\n\t\t\t\t<div className=\"search-bar\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Search by author, title, age, genre...\"\n\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\tonChange={({ target: { value } }) => dispatch(setSearchQuery({ searchQuery: value }))}\n\t\t\t\t\t/>\n\t\t\t\t\t<button onClick={search}>\n\t\t\t\t\t\t<img alt=\"Book\" src=\"/icons/search.png\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className={`header-actions ${showDropDown ? 'show-drop-down' : 'hide-drop-down'}`}>\n\t\t\t\t\t{isLoggedIn\n\t\t\t\t\t\t? <Link className=\"subscribe-button\" to=\"/your-library\">Your Library</Link>\n\t\t\t\t\t\t: <Link className=\"subscribe-button\" to=\"/\">Log In / Sign Up</Link>}\n\t\t\t\t\t<Link to=\"/browse-library\" className=\"subscribe-button\">Browse Library</Link>\n\t\t\t\t\t{isLoggedIn && <button onClick={logOut} className='subscribe-button'>Log Out</button>}\n\t\t\t\t</div>\n\t\t\t\t<GiHamburgerMenu onClick={() => setShowDropDown(!showDropDown)} />\n\t\t\t</div>\n\t\t\t{searchBarPages.includes(location.pathname) &&\n\t\t\t\t<div className=\"search-bar mobile-search-bar\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Search by author, title, age, genre...\"\n\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\tonChange={({ target: { value } }) => dispatch(setSearchQuery({ searchQuery: value }))}\n\t\t\t\t\t/>\n\t\t\t\t\t<button onClick={search}>\n\t\t\t\t\t\t<img alt=\"Book\" src=\"/icons/search.png\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>}\n\t\t</header>\n\t);\n};\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}