{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { plans } from '../components/Plans/constants';\nconst initialState = {\n  isLoggedIn: false,\n  alert: {\n    text: '',\n    color: ''\n  },\n  user: {},\n  plan: plans[2],\n  registrationStep: 0,\n  childPreferences: [],\n  registerDetails: {\n    otpSent: false,\n    firstName: '',\n    lastName: '',\n    mobileNumber: '',\n    otp: '',\n    password: '',\n    confirmPassword: '',\n    selectedPlan: {},\n    selectedSubscription: {},\n    showPlans: false,\n    showSubscription: false,\n    paymentDone: false,\n    flatNumber: '',\n    building: '',\n    street: '',\n    landmark: '',\n    pinCode: '',\n    childName: '',\n    childDateOfBirth: '',\n    children: [],\n    registrationDone: false\n  }\n};\nexport const mainSlice = createSlice({\n  name: 'main',\n  initialState,\n  reducers: {\n    login: (state, action) => {\n      state.isLoggedIn = true;\n      state.user = action.payload.user;\n    },\n    setAlert: (state, action) => {\n      state.alert = action.payload;\n    },\n    setUser: (state, action) => {\n      state.user = action.payload.user;\n    },\n    resetAlert: (state, action) => {\n      state.alert = initialState.alert;\n    },\n    nextStepRegister: (state, action) => {\n      state.registrationStep = state.registrationStep + 1;\n      state.registerDetails.paymentDone = false;\n    },\n    previousStepRegister: (state, action) => {\n      if (state.registrationStep) state.registrationStep = state.registrationStep - 1;\n      state.registerDetails.paymentDone = false;\n    },\n    goToStepRegister: (state, action) => {\n      state.registrationStep = action.payload.i;\n    },\n    setRegisterDetails: (state, action) => {\n      state.registerDetails = { ...state.registerDetails,\n        ...action.payload\n      };\n    },\n    addChildToRegisterDetails: (state, action) => {\n      state.registerDetails.children = [...state.registerDetails.children, {\n        name: state.registerDetails.childName,\n        dateOfBirth: state.registerDetails.childDateOfBirth\n      }];\n      state.registerDetails.childName = '';\n      state.registerDetails.childDateOfBirth = '';\n    },\n    initializePreferences: (state, action) => {\n      state.childPreferences = action.payload.children.map(child => {\n        if (child.preferences) return {\n          guid: child.guid,\n          lastBooks: [child.preferences.last_book_read1, child.preferences.last_book_read2, child.preferences.last_book_read3],\n          numberOfBooksRead: child.preferences.books_read_per_week,\n          readingLevel: child.preferences.reading_level,\n          types: child.preferences.formats,\n          authors: child.preferences.authors,\n          series: child.preferences.series,\n          categories: child.preferences.categories\n        };\n        return {\n          guid: child.guid,\n          lastBooks: Array(3).fill(\"\"),\n          numberOfBooksRead: -1,\n          readingLevel: -1,\n          types: [],\n          authors: [],\n          series: [],\n          categories: []\n        };\n      });\n    },\n    updatePreferences: (state, action) => {\n      state.childPreferences[action.payload.i] = action.payload.preference;\n    },\n    flushRegisterDetails: (state, action) => {\n      state.registerDetails = initialState.registerDetails;\n      state.registrationStep = 0;\n    }\n  }\n});\nexport const {\n  login,\n  setAlert,\n  setUser,\n  resetAlert,\n  nextStepRegister,\n  previousStepRegister,\n  goToStepRegister,\n  setRegisterDetails,\n  addChildToRegisterDetails,\n  flushRegisterDetails,\n  updatePreferences,\n  initializePreferences\n} = mainSlice.actions;\nexport default mainSlice.reducer;","map":{"version":3,"names":["createSlice","plans","initialState","isLoggedIn","alert","text","color","user","plan","registrationStep","childPreferences","registerDetails","otpSent","firstName","lastName","mobileNumber","otp","password","confirmPassword","selectedPlan","selectedSubscription","showPlans","showSubscription","paymentDone","flatNumber","building","street","landmark","pinCode","childName","childDateOfBirth","children","registrationDone","mainSlice","name","reducers","login","state","action","payload","setAlert","setUser","resetAlert","nextStepRegister","previousStepRegister","goToStepRegister","i","setRegisterDetails","addChildToRegisterDetails","dateOfBirth","initializePreferences","map","child","preferences","guid","lastBooks","last_book_read1","last_book_read2","last_book_read3","numberOfBooksRead","books_read_per_week","readingLevel","reading_level","types","formats","authors","series","categories","Array","fill","updatePreferences","preference","flushRegisterDetails","actions","reducer"],"sources":["/home/ubuntu/bukrent/client/src/reducers/mainSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { plans } from '../components/Plans/constants';\n\nconst initialState = {\n\tisLoggedIn: false,\n\talert: { text: '', color: '' },\n\tuser: {},\n\tplan: plans[2],\n\tregistrationStep: 0,\n\tchildPreferences: [],\n\tregisterDetails: {\n\t\totpSent: false,\n\t\tfirstName: '',\n\t\tlastName: '',\n\t\tmobileNumber: '',\n\t\totp: '',\n\t\tpassword: '',\n\t\tconfirmPassword: '',\n\t\tselectedPlan: {},\n\t\tselectedSubscription: {},\n\t\tshowPlans: false,\n\t\tshowSubscription: false,\n\t\tpaymentDone: false,\n\t\tflatNumber: '',\n\t\tbuilding: '',\n\t\tstreet: '',\n\t\tlandmark: '',\n\t\tpinCode: '',\n\t\tchildName: '',\n\t\tchildDateOfBirth: '',\n\t\tchildren: [],\n\t\tregistrationDone: false,\n\t},\n};\n\nexport const mainSlice = createSlice({\n\tname: 'main',\n\tinitialState,\n\treducers: {\n\t\tlogin: (state, action) => {\n\t\t\tstate.isLoggedIn = true;\n\t\t\tstate.user = action.payload.user;\n\t\t},\n\t\tsetAlert: (state, action) => {\n\t\t\tstate.alert = action.payload;\n\t\t},\n\t\tsetUser: (state, action) => {\n\t\t\tstate.user = action.payload.user;\n\t\t},\n\t\tresetAlert: (state, action) => {\n\t\t\tstate.alert = initialState.alert;\n\t\t},\n\t\tnextStepRegister: (state, action) => {\n\t\t\tstate.registrationStep = state.registrationStep + 1;\n\t\t\tstate.registerDetails.paymentDone = false;\n\t\t},\n\t\tpreviousStepRegister: (state, action) => {\n\t\t\tif (state.registrationStep) state.registrationStep = state.registrationStep - 1;\n\t\t\tstate.registerDetails.paymentDone = false;\n\t\t},\n\t\tgoToStepRegister: (state, action) => {\n\t\t\tstate.registrationStep = action.payload.i;\n\t\t},\n\t\tsetRegisterDetails: (state, action) => {\n\t\t\tstate.registerDetails = { ...state.registerDetails, ...action.payload };\n\t\t},\n\t\taddChildToRegisterDetails: (state, action) => {\n\t\t\tstate.registerDetails.children = [\n\t\t\t\t...state.registerDetails.children,\n\t\t\t\t{\n\t\t\t\t\tname: state.registerDetails.childName,\n\t\t\t\t\tdateOfBirth: state.registerDetails.childDateOfBirth,\n\t\t\t\t},\n\t\t\t];\n\t\t\tstate.registerDetails.childName = '';\n\t\t\tstate.registerDetails.childDateOfBirth = '';\n\t\t},\n\t\tinitializePreferences: (state, action) => {\n\t\t\tstate.childPreferences = action.payload.children.map(child => {\n\t\t\t\tif(child.preferences)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tguid: child.guid,\n\t\t\t\t\t\tlastBooks: [child.preferences.last_book_read1, child.preferences.last_book_read2, child.preferences.last_book_read3],\n\t\t\t\t\t\tnumberOfBooksRead: child.preferences.books_read_per_week,\n\t\t\t\t\t\treadingLevel: child.preferences.reading_level,\n\t\t\t\t\t\ttypes: child.preferences.formats,\n\t\t\t\t\t\tauthors: child.preferences.authors,\n\t\t\t\t\t\tseries: child.preferences.series,\n\t\t\t\t\t\tcategories: child.preferences.categories,\n\t\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\tguid: child.guid,\n\t\t\t\t\tlastBooks: Array(3).fill(\"\"),\n\t\t\t\t\tnumberOfBooksRead: -1,\n\t\t\t\t\treadingLevel: -1,\n\t\t\t\t\ttypes: [],\n\t\t\t\t\tauthors: [],\n\t\t\t\t\tseries: [],\n\t\t\t\t\tcategories: [],\n\t\t\t\t};\n\t\t\t})\n\t\t},\n\t\tupdatePreferences: (state, action) => {\n\t\t\tstate.childPreferences[action.payload.i] = action.payload.preference;\n\t\t},\n\t\tflushRegisterDetails: (state, action) => {\n\t\t\tstate.registerDetails = initialState.registerDetails;\n\t\t\tstate.registrationStep = 0;\n\t\t},\n\t},\n});\n\nexport const {\n\tlogin,\n\tsetAlert,\n\tsetUser,\n\tresetAlert,\n\tnextStepRegister,\n\tpreviousStepRegister,\n\tgoToStepRegister,\n\tsetRegisterDetails,\n\taddChildToRegisterDetails,\n\tflushRegisterDetails,\n\tupdatePreferences,\n\tinitializePreferences,\n} = mainSlice.actions;\n\nexport default mainSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}