<script>
    $(function(){
        $("#signup_button").click(function(){
            let data = {
                first_name: $("#first_name").val(),
                last_name: $("#last_name").val(),
                mobile_number: $("#mobile_number").val(),
                newsletter: $("#newsletter").is(":checked") ? true : false
            }

            $.ajax({
                url: "{{url_for('api.signup')}}",
                type: "post",
                data: JSON.stringify(data),
                dataType: 'json',
                contentType: 'application/json',
                success: function (result) {
                    window.location.href = "{{url_for('views.confirm_mobile')}}"
                },
                error: function (result) {
                    Swal.fire(
                        'Uh Oh!',
                        result.responseJSON.message,
                        'error'
                    )
                }
            })
        })
    })
</script>