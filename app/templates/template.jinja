<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Bukrent - Rent Books Online</title>

        <!-- Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
            crossorigin="anonymous"></script>

        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

        <!-- Fontawesome -->
        <script src="https://kit.fontawesome.com/b94f5696ce.js" crossorigin="anonymous"></script>

        <!-- Owl Carousel -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.css" integrity="sha512-OTcub78R3msOCtY3Tc6FzeDJ8N9qvQn1Ph49ou13xgA9VsH9+LRxoFU6EqLhW4+PKRfU+/HReXmSZXHEkpYoOA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <!-- Sweet Alert -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/8.11.8/sweetalert2.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/8.11.8/sweetalert2.min.css">

        <style>
            .navbar {
                background-color: #dd913e !important;
                padding: 0px !important;
                padding-left: 10% !important;
            }

            .nav-button {
                background-color: white;
                border: none;
                padding: 0.8em;
                color: #dd913e
            }

            .navbar a {
                color: white;
            }

            #nav_toggler {
                flex-direction: row-reverse;
            }

            .footer-container {
                background-color: #fdcc91 !important;
            }

            .footer-branding {
                background-color: #dd913e !important;
            }

            .footer-logo {
                width: 50%;
            }

            main {
                margin-top: 7vh;
                min-height: 50vh
            }

            .no-decoration {
                color: #636363;
                text-decoration: none;
            }

            @media (max-width:480px) {
                main {
                    margin-top: 20vh;
                }

                .navbar {
                    background-color: #dd913e !important;
                    padding: 0px !important;
                }
            }
        </style>
    </head>
    <body>
        <div class="container-fluid p-0 overflow-hidden">
            <header>
                <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
                    <div class="container-fluid">
                        <a class="navbar-brand" href="https://bukrent.com" target="_blank">
                            <img src="/static/images/logo.png" width="150px" class="img-fluid" />
                        </a>
                        <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#nav_toggler" aria-controls="nav_toggler" aria-expanded="false" aria-label="Toggle navigation">
                            <i class="fa-solid fa-bars text-white"></i>
                        </button>
                        <div class="d-flex flex-grow-1 pt-3 pb-2">
                            <input id="search" class="form-control me-2" type="search" placeholder="Book, Author, Publisher" aria-label="Search">
                            <button class="nav-button" onclick="search();"><b>Search</b></button>
                        </div>
                        <div class="collapse navbar-collapse" id="nav_toggler">
                            <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                                {% if current_user %}
                                    <li class="nav-item">
                                        <a class="nav-link pe-4" onclick="logout_user()">
                                            <button class="nav-button"><b>Logout</b></button>
                                        </a>
                                    </li>
                                {% else %}
                                    <li class="nav-item">
                                        <a class="nav-link pe-4" href="{{url_for('views.login')}}">
                                            <button class="nav-button"><b>Login</b></button>
                                        </a>
                                    </li>
                                {% endif %}
                                <!-- <li class="nav-item">
                                    <a class="nav-link pe-4" href="{{url_for('views.home')}}">
                                        Browse Books
                                    </a>
                                </li> -->
                                <!-- <li class="nav-item">
                                    <a class="nav-link pe-4">
                                        <button class="nav-button"><b>Surprise Me</b></button>
                                    </a>
                                </li> -->
                                <li class="nav-item">
                                    <a class="nav-link pe-4" href="{{url_for('views.become_a_subscriber')}}">
                                        <button class="nav-button"><b>Become a subscriber</b></button>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link pe-4 pt-4" href="{{url_for('views.cart')}}">
                                        <i class="fa fa-shopping-cart" aria-hidden="true" style="font-size: 1.5em;"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </header>
            <main>
                {% block main %}{% endblock %}
            </main>
            <footer>
                <div class="row footer-container p-3">
                    <div class="col-12 col-md-5 col-lg-5 text-center">
                        <img src="/static/images/logo.png" class="footer-logo" />
                    </div>
                    <div class="col-12 col-sm-7 col-lg-7">
                        <div class="row">
                            <div class="col-12 col-md-4 col-lg-4 mt-0 mt-md-5 mt-lg-5">
                                <h5 class="mt-0 mt-md-5 mt-lg-5 pt-2">Get Connected</h5>
                                <p class="mt-4">About Us</p>
                                <p>Contact Us</p>
                                <p>Products</p>
                            </div>
                            <div class="col-12 col-md-4 col-lg-4 mt-0 mt-md-5 mt-lg-5">
                                <h5 class="mt-0 mt-md-5 mt-lg-5 pt-2">FAQs</h5>
                                <p class="mt-4">Help</p>
                                <p>Customer Support</p>
                                <p>Raise Complaint</p>
                            </div>
                            <div class="col-12 col-md-4 col-lg-4 mt-0 mt-md-5 mt-lg-5">
                                <h5 class="mt-0 mt-md-5 mt-lg-5 pt-2">Follow Us</h5>
                                <p class="mt-4"><i class="fa-brands fa-instagram"></i> Instagram</p>
                                <p><i class="fa-brands fa-facebook"></i> Facebook</p>
                                <p><i class="fa-brands fa-twitter"></i> Twitter</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row footer-branding">
                    <div class="col-12 col-md-12 col-lg-12 p-3">
                        <h1></h1>
                    </div>
                </div>
            </footer>
        </div>

        <script>
            function logout_user() {
                $.ajax({
                    url: "{{url_for('api.logout')}}",
                    type: "post",
                    dataType: 'json',
                    contentType: 'application/json',
                    success: function (result) {
                        window.location.reload();
                    },
                    error: function (result) {
                        Swal.fire(
                            'Uh Oh!',
                            result.responseJSON.message,
                            'error'
                        )
                    }
                })
            }

            function search() {
                let url = "{{url_for('views.search_result')}}"+`?query=${$("#search").val()}`
                window.location.href = url
            }
        </script>
    </body>
</html>